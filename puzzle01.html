<style>
.grid {
  display: grid;
  gap: 1px;
  grid-template-columns: repeat(3, 1fr);
  max-width:1000px;
  margin: auto;
}

div > div {
  padding: 10px;
  aspect-ratio: 1 / 1;
}

.button:active {
	transform: scale(0.9);
}

.inactive {
	box-shadow:  0 0 1em 1em #696969 inset;
}
</style>

<body onload="init()">
<div class="grid" id="parent-div">
  <div class="button" id="1" onclick="myFunction(1)" style="background-color:tomato;">&nbsp</div>
  <div class="button" id="2" onclick="myFunction(2)" style="background-color:tomato;">&nbsp</div>
  <div class="button" id="3" onclick="myFunction(3)" style="background-color:tomato;">&nbsp</div>
  <div class="inactive" id="4" onclick="myFunction(4)" style="background-color:tomato;">&nbsp</div>
  <div class="inactive" id="5" onclick="myFunction(5)" style="background-color:tomato;">&nbsp</div>
  <div class="inactive" id="6" onclick="myFunction(6)" style="background-color:tomato;">&nbsp</div>
  <div class="button" id="7" onclick="myFunction(7)" style="background-color:tomato;">&nbsp</div>
  <div class="button" id="8" onclick="myFunction(8)" style="background-color:tomato;">&nbsp</div>
  <div class="button" id="9" onclick="myFunction(9)" style="background-color:tomato;">&nbsp</div>  
</div>

<script>
let temp3 = -1;
let temp2;
let temp;

let game = [ 
['orange', 'orange', 'orange'],
['orange', 'orange', 'orange'],
['orange', 'orange', 'orange'],
['#DCDCDC', '#DCDCDC', '#DCDCDC'],
['#DCDCDC', '#DCDCDC', '#DCDCDC'],
['#DCDCDC', '#DCDCDC', '#DCDCDC'],
['red', 'red', 'red'],
['red', 'red', 'red'],
['red', 'red', 'red'],
['yellow', 'yellow', 'yellow'],
['yellow', 'yellow', 'yellow'],
['yellow', 'yellow', 'yellow'],
];

function init(){
	myFunction(1);
	myFunction(8);
	myFunction(1);
	myFunction(8);
	myFunction(3);
	myFunction(3);
	myFunction(3);
	myFunction(2);
	myFunction(2);
}

function show(){
	const ids = [...document.querySelectorAll('#parent-div > div')].map(({ id }) => id);
	ids.forEach(function(elementid){
		let numberid = parseInt(elementid);
		let col = Math.floor((numberid - 1)/3);
		let row = (numberid - 1) % 3;
		document.getElementById(elementid).style.backgroundColor = game[col][row];
	});
	checkWin();
}

function myFunction(number) {
	const ids = [...document.querySelectorAll('#parent-div > div')].map(({ id }) => id);

	switch (number){
		case 1:
			temp3 = -1;
			temp2;
			game.slice().reverse().forEach(function(arr){
				if(temp3 == -1){
					temp3 = arr[0]
				}else{
					temp2 = arr[0];
					arr[0] = temp3;
					temp3 = temp2;
				}
			});
			game.slice().reverse()[0][0] = temp3;
			break;

		case 2:
			console.log(2);
			temp = game[0][0];
			game [0][0] = game[0][1];
			game [0][1] = game[0][2];
			game [0][2] = temp;
    			break;
		case 3:
			temp3 = -1;
			game.slice().reverse().forEach(function(arr){
				if(temp3 == -1){
					temp3 = arr[2]
				}else{
					temp2 = arr[2];
					arr[2] = temp3;
					temp3 = temp2;
				}
			});
			game.slice().reverse()[0][2] = temp3;
			break;
		
		case 7:
			temp3 = -1;
			temp2;
			game.forEach(function(arr){
				if(temp3 == -1){
					temp3 = arr[0]
				}else{
					temp2 = arr[0];
					arr[0] = temp3;
					temp3 = temp2;
				}
			});
			game[0][0] = temp3;
			break;
		
		case 8:
			console.log(2);
			temp = game[2][2];
			game [2][2] = game[2][1];
			game [2][1] = game[2][0];
			game [2][0] = temp;
    			break;

		case 9:
			temp3 = -1;
			game.forEach(function(arr){
				if(temp3 == -1){
					temp3 = arr[2]
				}else{
					temp2 = arr[2];
					arr[2] = temp3;
					temp3 = temp2;
				}
			});
			game[0][2] = temp3;
			break;
		}
	show();
}
function checkWin(){
	var x = true;
	let color = document.getElementById("1").style.backgroundColor;
	const ids = [...document.querySelectorAll('#parent-div > div')].map(({ id }) => id);
	ids.forEach(function(elementid){
		if(document.getElementById(elementid).style.backgroundColor != color){
			x=false;
		}
	});
	if(x == true){
	ids.forEach(function(elementid){
		document.getElementById(elementid).style.backgroundColor = "green";
	});}
}
function flip(id){
	if(document.getElementById(id).style.backgroundColor == "lightblue"){
		document.getElementById(id).style.backgroundColor = "tomato";
	}else{
		document.getElementById(id).style.backgroundColor = "lightblue";
	}
	checkWin();
}
</script>
</body>